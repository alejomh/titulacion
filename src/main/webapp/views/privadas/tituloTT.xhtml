<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="content">

		<div class="layout-portlets-box BgcWhite">
			<div class="Container100 ui-fluid">
				<div class="ContainerIndent">

					<p:panel id="panelPrincipal"
						header="Títulos de investigación del trabajo de titulación">

						<div class="EmptyBox20"></div>

						<p:fieldset legend="Criterios de búsqueda">

							<h:form id="busqueda">

								<div class="EmptyBox10"></div>

								<div class="ui-grid ui-grid-responsive">
									<div class="ui-grid-row">

										<div class="ui-grid-col-3 UiGridCol">
											<p:outputLabel value="Proceso" />
											<p:selectOneMenu required="true"
												requiredMessage="Seleccione un proceso"
												value="#{tituloTTBean.proceso}">
												<f:selectItem itemValue="" itemLabel="Seleccione un proceso" />
												<f:selectItems value="#{tituloTTBean.procesos}"
													var="proceso" itemValue="#{proceso.id}"
													itemLabel="#{proceso.id}" />
											</p:selectOneMenu>
										</div>

										<div class="ui-grid-col-6 UiGridCol">
											<p:outputLabel value="Carrera" />
											<p:selectOneMenu id="carrera" required="true"
												requiredMessage="Seleccione una carrera"
												value="#{tituloTTBean.carrera}" filter="true"
												filterMatchMode="contains" autoWidth="true">
												<f:selectItem itemValue=""
													itemLabel="Seleccione una carrera" />
												<f:selectItems value="#{tituloTTBean.carreras}"
													var="carrera" itemValue="#{carrera.id}"
													itemLabel="#{carrera.nombre}" />
											</p:selectOneMenu>
										</div>

									</div>
								</div>

								<div class="EmptyBox10"></div>

								<div class="ui-grid ui-grid-responsive">
									<div class="ui-grid-row">

										<div class="ui-grid-col-8 UiGridCol">
											<p:outputLabel value="Estudiante" />
											<p:inputText
												value="#{tituloTTBean.criterioBusquedaEstudiante}" />
										</div>

										<div class="ui-grid-col-1 UiGridCol">
											<p:outputLabel value="" />
											<p:commandButton icon="fa fa-search white"
												actionListener="#{tituloTTBean.buscar}"
												update="panelPrincipal, :mensaje" />
										</div>

									</div>
								</div>

							</h:form>

						</p:fieldset>

						<div class="EmptyBox20"></div>

						<p:fieldset legend="Resultados de búsqueda">

							<h:form id="formDataTable">

								<p:dataTable var="estudianteTrabajoTitulacion"
									value="#{tituloTTBean.listadoEstudianteTrabajoTitulacion}"
									paginator="true"
									paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
									rows="10" reflow="true"
									emptyMessage="No hay Información Disponible">

									<p:column headerText="Estudiante">
										<p:outputLabel
											value="#{estudianteTrabajoTitulacion.estudiante.id} - #{estudianteTrabajoTitulacion.estudiante.apellidoNombre}" />
									</p:column>

									<p:column headerText="Título de la investigación">
										<p:outputLabel
											value="#{estudianteTrabajoTitulacion.tituloInvestigacion}" />
									</p:column>

								</p:dataTable>

								<div class="EmptyBox10"></div>

							</h:form>

						</p:fieldset>

						<div class="EmptyBox20"></div>

					</p:panel>

				</div>
			</div>
		</div>

	</ui:define>

</ui:composition>